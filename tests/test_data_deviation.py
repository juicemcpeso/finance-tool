# test_data_deviation.py
# Test database dictionaries for allocation deviation tests
# 2024-01-30
# @juicemcpeso
import copy

allocation_expected = {0: [{'asset_class_id': 1,
                            'location_id': 2,
                            'current_value': 140000000,
                            'plan_percent': 2000,
                            'plan_value': 200000000,
                            'deviation': -3000},
                           {'asset_class_id': 2,
                            'location_id': 2,
                            'current_value': 40000000,
                            'plan_percent': 500,
                            'plan_value': 50000000,
                            'deviation': -2000},
                           {'asset_class_id': 1,
                            'location_id': 1,
                            'current_value': 340000000,
                            'plan_percent': 4000,
                            'plan_value': 400000000,
                            'deviation': -1500}],
                       1000: [{'asset_class_id': 1,
                               'location_id': 2,
                               'current_value': 140000000,
                               'plan_percent': 2000,
                               'plan_value': 202000000,
                               'deviation': -3070},
                              {'asset_class_id': 2,
                               'location_id': 2,
                               'current_value': 40000000,
                               'plan_percent': 500,
                               'plan_value': 50500000,
                               'deviation': -2080},
                              {'asset_class_id': 1,
                               'location_id': 1,
                               'current_value': 340000000,
                               'plan_percent': 4000,
                               'plan_value': 404000000,
                               'deviation': -1585}],
                       10000: [{'asset_class_id': 1,
                                'location_id': 2,
                                'current_value': 140000000,
                                'plan_percent': 2000,
                                'plan_value': 220000000,
                                'deviation': -3637},
                               {'asset_class_id': 2,
                                'location_id': 2,
                                'current_value': 40000000,
                                'plan_percent': 500,
                                'plan_value': 55000000,
                                'deviation': -2728},
                               {'asset_class_id': 1,
                                'location_id': 1,
                                'current_value': 340000000,
                                'plan_percent': 4000,
                                'plan_value': 440000000,
                                'deviation': -2273}],
                       100000: [{'asset_class_id': 1,
                                 'location_id': 2,
                                 'current_value': 140000000,
                                 'plan_percent': 2000,
                                 'plan_value': 400000000,
                                 'deviation': -6500},
                                {'asset_class_id': 2,
                                 'location_id': 2,
                                 'current_value': 40000000,
                                 'plan_percent': 500,
                                 'plan_value': 100000000,
                                 'deviation': -6000},
                                {'asset_class_id': 1,
                                 'location_id': 1,
                                 'current_value': 340000000,
                                 'plan_percent': 4000,
                                 'plan_value': 800000000,
                                 'deviation': -5750},
                                {'asset_class_id': 2,
                                 'location_id': 1,
                                 'current_value': 340000000,
                                 'plan_percent': 2500,
                                 'plan_value': 500000000,
                                 'deviation': -3200},
                                {'asset_class_id': 3,
                                 'location_id': 1,
                                 'current_value': 140000000,
                                 'plan_percent': 1000,
                                 'plan_value': 200000000,
                                 'deviation': -3000}]}

cross_join_expected = {0: [{'asset_class_id': 1,
                            'location_id': 2,
                            'current_value': 140000000,
                            'plan_percent': 2000,
                            'plan_value': 200000000,
                            'deviation': -3000,
                            'next_deviation': -2000},
                           {'asset_class_id': 1,
                            'location_id': 2,
                            'current_value': 140000000,
                            'plan_percent': 2000,
                            'plan_value': 200000000,
                            'deviation': -3000,
                            'next_deviation': -1500},
                           {'asset_class_id': 2,
                            'location_id': 2,
                            'current_value': 40000000,
                            'plan_percent': 500,
                            'plan_value': 50000000,
                            'deviation': -2000,
                            'next_deviation': -1500}],
                       100000: [{'asset_class_id': 1,
                                 'location_id': 2,
                                 'current_value': 140000000,
                                 'plan_percent': 2000,
                                 'plan_value': 400000000,
                                 'deviation': -6500,
                                 'next_deviation': -6000},
                                {'asset_class_id': 1,
                                 'location_id': 2,
                                 'current_value': 140000000,
                                 'plan_percent': 2000,
                                 'plan_value': 400000000,
                                 'deviation': -6500,
                                 'next_deviation': -5750},
                                {'asset_class_id': 1,
                                 'location_id': 2,
                                 'current_value': 140000000,
                                 'plan_percent': 2000,
                                 'plan_value': 400000000,
                                 'deviation': -6500,
                                 'next_deviation': -3200},
                                {'asset_class_id': 1,
                                 'location_id': 2,
                                 'current_value': 140000000,
                                 'plan_percent': 2000,
                                 'plan_value': 400000000,
                                 'deviation': -6500,
                                 'next_deviation': -3000},
                                {'asset_class_id': 2,
                                 'location_id': 2,
                                 'current_value': 40000000,
                                 'plan_percent': 500,
                                 'plan_value': 100000000,
                                 'deviation': -6000,
                                 'next_deviation': -5750},
                                {'asset_class_id': 2,
                                 'location_id': 2,
                                 'current_value': 40000000,
                                 'plan_percent': 500,
                                 'plan_value': 100000000,
                                 'deviation': -6000,
                                 'next_deviation': -3200},
                                {'asset_class_id': 2,
                                 'location_id': 2,
                                 'current_value': 40000000,
                                 'plan_percent': 500,
                                 'plan_value': 100000000,
                                 'deviation': -6000,
                                 'next_deviation': -3000},
                                {'asset_class_id': 1,
                                 'location_id': 1,
                                 'current_value': 340000000,
                                 'plan_percent': 4000,
                                 'plan_value': 800000000,
                                 'deviation': -5750,
                                 'next_deviation': -3200},
                                {'asset_class_id': 1,
                                 'location_id': 1,
                                 'current_value': 340000000,
                                 'plan_percent': 4000,
                                 'plan_value': 800000000,
                                 'deviation': -5750,
                                 'next_deviation': -3000},
                                {'asset_class_id': 2,
                                 'location_id': 1,
                                 'current_value': 340000000,
                                 'plan_percent': 2500,
                                 'plan_value': 500000000,
                                 'deviation': -3200,
                                 'next_deviation': -3000}]}

where_to_contribute_expected = {0: [{'asset_class_id': 1,
                                     'location_id': 2,
                                     'current_value': 140000000,
                                     'plan_percent': 2000,
                                     'plan_value': 200000000,
                                     'deviation': -3000,
                                     'contribution': 0},
                                    {'asset_class_id': 2,
                                     'location_id': 2,
                                     'current_value': 40000000,
                                     'plan_percent': 500,
                                     'plan_value': 50000000,
                                     'deviation': -2000,
                                     'contribution': 0},
                                    {'asset_class_id': 1,
                                     'location_id': 1,
                                     'current_value': 340000000,
                                     'plan_percent': 4000,
                                     'plan_value': 400000000,
                                     'deviation': -1500,
                                     'contribution': 0}],
                                1000: [{'asset_class_id': 1,
                                        'location_id': 2,
                                        'current_value': 140000000,
                                        'plan_percent': 2000,
                                        'plan_value': 202000000,
                                        'deviation': -3070,
                                        'contribution': 10000000},
                                       {'asset_class_id': 2,
                                        'location_id': 2,
                                        'current_value': 40000000,
                                        'plan_percent': 500,
                                        'plan_value': 50500000,
                                        'deviation': -2080,
                                        'contribution': 0},
                                       {'asset_class_id': 1,
                                        'location_id': 1,
                                        'current_value': 340000000,
                                        'plan_percent': 4000,
                                        'plan_value': 404000000,
                                        'deviation': -1585,
                                        'contribution': 0}],
                                10000: [{'asset_class_id': 1,
                                         'location_id': 2,
                                         'current_value': 140000000,
                                         'plan_percent': 2000,
                                         'plan_value': 220000000,
                                         'deviation': -3637,
                                         'contribution': 50765539},
                                        {'asset_class_id': 2,
                                         'location_id': 2,
                                         'current_value': 40000000,
                                         'plan_percent': 500,
                                         'plan_value': 55000000,
                                         'deviation': -2728,
                                         'contribution': 7691385},
                                        {'asset_class_id': 1,
                                         'location_id': 1,
                                         'current_value': 340000000,
                                         'plan_percent': 4000,
                                         'plan_value': 440000000,
                                         'deviation': -2273,
                                         'contribution': 41543076}],
                                100000: [{'asset_class_id': 1,
                                          'location_id': 2,
                                          'current_value': 140000000,
                                          'plan_percent': 2000,
                                          'plan_value': 400000000,
                                          'deviation': -6500,
                                          'contribution': 260000000},
                                         {'asset_class_id': 2,
                                          'location_id': 2,
                                          'current_value': 40000000,
                                          'plan_percent': 500,
                                          'plan_value': 100000000,
                                          'deviation': -6000,
                                          'contribution': 60000000},
                                         {'asset_class_id': 1,
                                          'location_id': 1,
                                          'current_value': 340000000,
                                          'plan_percent': 4000,
                                          'plan_value': 800000000,
                                          'deviation': -5750,
                                          'contribution': 460000000},
                                         {'asset_class_id': 2,
                                          'location_id': 1,
                                          'current_value': 340000000,
                                          'plan_percent': 2500,
                                          'plan_value': 500000000,
                                          'deviation': -3200,
                                          'contribution': 160000000},
                                         {'asset_class_id': 3,
                                          'location_id': 1,
                                          'current_value': 140000000,
                                          'plan_percent': 1000,
                                          'plan_value': 200000000,
                                          'deviation': -3000,
                                          'contribution': 60000000}]}
